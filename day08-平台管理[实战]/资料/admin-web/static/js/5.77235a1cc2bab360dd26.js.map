{"version":3,"sources":["webpack:///src/views/news_auth/detail.vue","webpack:///./src/views/news_auth/detail.vue?3cd8","webpack:///./src/views/news_auth/detail.vue","webpack:///./src/api/news_auth.js"],"names":["detail","name","data","content","created","this","loadData","$route","query","id","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","Object","news_auth","sent","stop","goBack","$router","go","dateFormat","time","date","format13HH","operateForPass","_this2","_callee2","params","_context2","status","code","submitSuccess","$message","type","message","errorMessage","operateForFail","open","msg","_ref","_this3","$prompt","undefined","confirmButtonText","confirmButtonClass","cancelButtonText","cancelButtonClass","inputPlaceholder","inputType","then","_callee3","_ref2","value","_context3","title","_x","apply","arguments","catch","news_auth_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","back","_v","click","$event","aria-hidden","xlink:href","_s","reason","_e","gutter","span","staticStyle","margin-top","authorName","submitedTime","_l","JSON","parse","item","index","key","color","src","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Request","url","API_NEWS_AUTH_LIST","method","API_NEWS_AUTH_ONE","API_NEWS_AUTH_PASS","API_NEWS_AUTH_FAIL","__WEBPACK_IMPORTED_MODULE_0__utils_request__","__WEBPACK_IMPORTED_MODULE_1__constants_api__"],"mappings":"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","file":"static/js/5.77235a1cc2bab360dd26.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"header\">\n      <el-page-header @back=\"goBack\" content=\"文章详情\"></el-page-header>\n      <div v-if=\"detail.status === 3\">\n        <el-button type=\"primary\" @click=\"operateForPass()\">\n          <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n            <use xlink:href=\"#iconicon_btn_pass\" />\n          </svg>\n          通过\n        </el-button>\n        <el-button type=\"danger\" @click=\"operateForFail()\">\n          <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n            <use xlink:href=\"#iconicon_btn_reject\" />\n          </svg>\n          驳回\n        </el-button>\n      </div>\n      <div v-else-if=\"detail.status === 4\" class=\"operate\">\n        <span class=\"status\">状态：</span>\n        <span class=\"pass\">审核通过</span>\n      </div>\n      <div v-else-if=\"detail.status === 2\" class=\"operate\">\n        <span class=\"status\">状态：</span>\n        <span class=\"fail\">已驳回</span>\n        <br />\n        <span class=\"reason\">理由：{{ detail.reason }}</span>\n      </div>\n    </div>\n    <div class=\"main\">\n      <el-row :gutter=\"30\">\n        <el-col :span=\"5\">\n          <span class=\"name\">文章标题</span>\n        </el-col>\n        <el-col :span=\"5\">\n          <span class=\"name\">作者</span>\n        </el-col>\n        <el-col :span=\"5\">\n          <span class=\"name\">更新时间</span>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"30\" style=\"margin-top:20px;\">\n        <el-col :span=\"5\">\n          <span class=\"value\">{{ detail.title }}</span>\n        </el-col>\n        <el-col :span=\"5\">\n          <span class=\"value\">{{ detail.authorName }}</span>\n        </el-col>\n        <el-col :span=\"5\">\n          <span class=\"value\">{{ dateFormat(detail.submitedTime) }}</span>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"30\" style=\"margin-top:50px;\">\n        <el-col :span=\"5\">\n          <span class=\"name\">正文信息</span>\n        </el-col>\n      </el-row>\n      <p v-for=\"(item, index) in JSON.parse(detail.content)\" :key=\"index\">\n        <span v-if=\"item.type === 'text'\" style=\"color: #17233e;\">{{ item.value }}</span>\n        <img v-else :src=\"item.value\" />\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DateUtil from '@/utils/date'\nimport { authOne, authPass, authFail } from '@/api/news_auth'\n\nexport default {\n  name: 'ContentDetail',\n  data () {\n    return {\n      detail: {\n        content: '[]'\n      }\n    }\n  },\n  created () {\n    this.loadData(this.$route.query.id)\n  },\n  methods: {\n    async loadData (id) {\n      const res = await authOne(id)\n      this.detail = res.data\n    },\n    goBack () {\n      this.$router.go(-1)\n    },\n    dateFormat (time) {\n      return DateUtil.format13HH(time)\n    },\n    async operateForPass () {\n      const params = {\n        id: this.detail.id,\n        status: 4\n      }\n      const res = await authPass(params)\n      if (res.code === 200) {\n        this.submitSuccess()\n        this.$message({ type: 'success', message: '操作成功！' })\n      } else {\n        this.$message({ type: 'error', message: res.errorMessage })\n      }\n    },\n    operateForFail () {\n      const params = {\n        id: this.detail.id,\n        status: 2\n      }\n      this.open('请输入驳回理由', params)\n    },\n    open (msg, params) {\n      this.$prompt(undefined, '驳回理由', {\n        confirmButtonText: '提交',\n        confirmButtonClass: 'el-button--success',\n        cancelButtonText: '取消',\n        cancelButtonClass: 'el-button--warning',\n        inputPlaceholder: msg,\n        inputType: 'textarea'\n      }).then(async ({ value }) => {\n        // TODO: 驳回理由为空的情况\n        params.title = value\n\n        const res = await authFail(params)\n        if (res.code === 200) {\n          this.submitSuccess()\n          this.$message({ type: 'success', message: '操作成功！' })\n        } else {\n          this.$message({ type: 'error', message: res.errorMessage })\n        }\n      }).catch(() => {\n        this.$message({ type: 'info', message: '已取消驳回' })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/scss/element-variables.scss';\n\n.container {\n  height: 100%;\n  padding: 30px;\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 22px;\n    border-bottom: 1px solid #ebeef5;\n  }\n\n  .main {\n    min-height: calc(100vh - 80px - 30px - 89px);\n    padding-top: 30px;\n    text-align: left;\n\n    .name {\n      color: $--color-text-secondary;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/news_auth/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_c('el-page-header',{attrs:{\"content\":\"文章详情\"},on:{\"back\":_vm.goBack}}),_vm._v(\" \"),(_vm.detail.status === 3)?_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.operateForPass()}}},[_c('svg',{staticClass:\"icon svg-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#iconicon_btn_pass\"}})]),_vm._v(\"\\n        通过\\n      \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.operateForFail()}}},[_c('svg',{staticClass:\"icon svg-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#iconicon_btn_reject\"}})]),_vm._v(\"\\n        驳回\\n      \")])],1):(_vm.detail.status === 4)?_c('div',{staticClass:\"operate\"},[_c('span',{staticClass:\"status\"},[_vm._v(\"状态：\")]),_vm._v(\" \"),_c('span',{staticClass:\"pass\"},[_vm._v(\"审核通过\")])]):(_vm.detail.status === 2)?_c('div',{staticClass:\"operate\"},[_c('span',{staticClass:\"status\"},[_vm._v(\"状态：\")]),_vm._v(\" \"),_c('span',{staticClass:\"fail\"},[_vm._v(\"已驳回\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"reason\"},[_vm._v(\"理由：\"+_vm._s(_vm.detail.reason))])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('el-row',{attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"name\"},[_vm._v(\"文章标题\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"name\"},[_vm._v(\"作者\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"name\"},[_vm._v(\"更新时间\")])])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.detail.title))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.detail.authorName))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.dateFormat(_vm.detail.submitedTime)))])])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":5}},[_c('span',{staticClass:\"name\"},[_vm._v(\"正文信息\")])])],1),_vm._v(\" \"),_vm._l((JSON.parse(_vm.detail.content)),function(item,index){return _c('p',{key:index},[(item.type === 'text')?_c('span',{staticStyle:{\"color\":\"#17233e\"}},[_vm._v(_vm._s(item.value))]):_c('img',{attrs:{\"src\":item.value}})])})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-059cc2ad\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news_auth/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-059cc2ad\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-059cc2ad\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-059cc2ad\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news_auth/detail.vue\n// module id = null\n// module chunks = ","import Request from '@/utils/request'\nimport { API_NEWS_AUTH_LIST, API_NEWS_AUTH_ONE, API_NEWS_AUTH_PASS, API_NEWS_AUTH_FAIL } from '@/constants/api'\n\nexport function authList (data) {\n  return new Request({\n    url: API_NEWS_AUTH_LIST,\n    method: 'post',\n    data\n  })\n}\n\nexport function authOne (id) {\n  return new Request({\n    url: API_NEWS_AUTH_ONE + id,\n    method: 'get'\n  })\n}\n\nexport function authPass (data) {\n  return new Request({\n    url: API_NEWS_AUTH_PASS,\n    method: 'post',\n    data\n  })\n}\n\nexport function authFail (data) {\n  return new Request({\n    url: API_NEWS_AUTH_FAIL,\n    method: 'post',\n    data\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/news_auth.js"],"sourceRoot":""}