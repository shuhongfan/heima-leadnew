{"version":3,"sources":["webpack:///src/views/fans/components/info/Progress.vue","webpack:///./src/views/fans/components/info/Progress.vue?ddd4","webpack:///./src/views/fans/components/info/Progress.vue","webpack:///src/views/fans/components/info/CategoryChart.vue","webpack:///./src/views/fans/components/info/CategoryChart.vue?14cd","webpack:///./src/views/fans/components/info/CategoryChart.vue","webpack:///src/views/fans/components/info/CategoryChartBig.vue","webpack:///./src/views/fans/components/info/CategoryChartBig.vue?b210","webpack:///./src/views/fans/components/info/CategoryChartBig.vue","webpack:///src/views/fans/info.vue","webpack:///./src/views/fans/info.vue?181f","webpack:///./src/views/fans/info.vue"],"names":["Progress","data","props","name","type","String","required","percentage","Number","legend","Array","default","components","computed","methods","info_Progress","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","text-inside","stroke-width","color","staticRenderFns","components_info_Progress","__webpack_require__","normalizeComponent","ssrContext","CategoryChart","watch","chartData","deep","handler","val","setOptions","ageRangeValue","initChart","ageRangeKey","mounted","sidebarElm","document","getElementsByClassName","addEventListener","sidebarResizeHandler","beforeDestroy","chart","autoResize","window","removeEventListener","__resizeHandler","dispose","e","propertyName","setOption","tooltip","trigger","axisPointer","grid","left","right","bottom","containLabel","xAxis","axisTick","alignWithLabel","yAxis","series","barWidth","echarts_default","a","init","$refs","info_CategoryChart","ref","style","height","width","fansAgePerc","prop","label","components_info_CategoryChart","CategoryChart_normalizeComponent","CategoryChartBig","className","Boolean","Object","tableData","date","charData","key","value","info_CategoryChartBig","components_info_CategoryChartBig","CategoryChartBig_normalizeComponent","info","gender","male","female","mobile","android","ios","readData","created","getFansPortrait","manPercent","Math","round","parseFloat","iosPercent","_this","asyncToGenerator_default","regenerator_default","mark","_callee","result","portraits","ageItems","readItems","totalFans","wrap","_context","prev","next","fans","sent","code","forEach","item","split","startsWith","push","setAges","statisticRead","$message","message","error_message","stop","total","_this2","sort","b","perc","age","_this3","fans_info","to","info_Component","info_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.860f09b57f2fcce58722.js","sourcesContent":["<template>\n  <div class=\"content\">\n    <header>{{name}}\n      <div class=\"legend\">\n        <span class=\"m\">{{legend[0]}}（{{percentage}}%）</span>\n        <span class=\"f\">{{legend[1]}}（{{100-percentage}}%）</span>\n      </div>\n    </header>\n    <el-progress :text-inside=\"true\" :stroke-width=\"30\" :percentage=\"percentage\" color=\"#69b4ff\"></el-progress>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n\n    }\n  },\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    percentage: {\n      type: Number,\n      required: true\n    },\n    legend: {\n      type: Array,\n      default: () => ['', '']\n    }\n  },\n  components: {\n  },\n  computed: {\n\n  },\n  methods: {\n\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  .content {\n    font-size: 14px;\n    header {\n      margin: 20px 0;\n      display: flex;\n      justify-content:space-between;\n      .legend span {\n        position: relative;\n        margin-left: 20px;\n        &.m:before {\n          background-color: #69b4ff;\n        }\n        &.f:before {\n          background-color: #fa8665;\n        }\n        &:before {\n          content: '';\n          position: absolute;\n          width: 10px;\n          height: 10px;\n          left: -15px;\n          top: 6px;\n          border-radius: 3px;\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/fans/components/info/Progress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('header',[_vm._v(_vm._s(_vm.name)+\"\\n    \"),_c('div',{staticClass:\"legend\"},[_c('span',{staticClass:\"m\"},[_vm._v(_vm._s(_vm.legend[0])+\"（\"+_vm._s(_vm.percentage)+\"%）\")]),_vm._v(\" \"),_c('span',{staticClass:\"f\"},[_vm._v(_vm._s(_vm.legend[1])+\"（\"+_vm._s(100-_vm.percentage)+\"%）\")])])]),_vm._v(\" \"),_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":30,\"percentage\":_vm.percentage,\"color\":\"#69b4ff\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12303fae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/fans/components/info/Progress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12303fae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Progress.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Progress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Progress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12303fae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Progress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12303fae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/fans/components/info/Progress.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"chart-content\">\n    <header>头条粉丝</header>\n    <div class=\"chart\">\n      <div ref=\"chart\" :style=\"{height:height,width:width}\"/>\n      <el-table :data=\"fansAgePerc\">\n        <el-table-column\n          prop=\"age\"\n          label=\"年龄\">\n        </el-table-column>\n        <el-table-column\n          prop=\"perc\"\n          label=\"粉丝占比\">\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport echarts from 'echarts'\nrequire('echarts/theme/macarons') // echarts theme\n\nexport default {\n  props: ['className', 'width', 'height', 'autoResize', 'ageRangeValue', 'ageRangeKey', 'fansAgePerc'],\n  data () {\n    return {\n    }\n  },\n  watch: {\n    chartData: {\n      deep: true,\n      handler (val) {\n        this.setOptions(val)\n      }\n    },\n    ageRangeValue: {\n      deep: true,\n      handler (val) {\n        this.ageRangeValue = val\n        this.initChart()\n      }\n    },\n    ageRangeKey: {\n      deep: true,\n      handler (val) {\n        this.ageRangeKey = val\n        this.initChart()\n      }\n    }\n  },\n  mounted () {\n    this.initChart()\n    // 监听侧边栏的变化\n    this.sidebarElm = document.getElementsByClassName('sidebar-container')[0]\n    this.sidebarElm && this.sidebarElm.addEventListener('transitionend', this.sidebarResizeHandler)\n  },\n  beforeDestroy () {\n    if (!this.chart) {\n      return\n    }\n    if (this.autoResize) {\n      window.removeEventListener('resize', this.__resizeHandler)\n    }\n\n    this.sidebarElm && this.sidebarElm.removeEventListener('transitionend', this.sidebarResizeHandler)\n\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    sidebarResizeHandler (e) {\n      if (e.propertyName === 'width') {\n        this.__resizeHandler()\n      }\n    },\n    setOptions () {\n      this.chart.setOption({\n        color: ['#3398DB'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: this.ageRangeKey,\n            axisTick: {\n              alignWithLabel: true\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value'\n          }\n        ],\n        series: [\n          {\n            name: '直接访问',\n            type: 'bar',\n            barWidth: '30%',\n            color: '#69b4ff',\n            data: this.ageRangeValue\n          }\n        ]\n      })\n    },\n    initChart () {\n      this.chart = echarts.init(this.$refs.chart, 'macarons')\n      this.setOptions(this.chartData)\n    }\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  .chart-content {\n    font-size: 14px;\n    header {\n      margin: 20px 0;\n    }\n    .chart {\n      border: 1px solid #e8e8e8;\n      padding-bottom: 30px;\n      display: flex;\n      justify-content: space-between;\n      .el-table {\n        border-left: 1px solid #e8e8e8;\n        margin-bottom: -31px;\n        margin-left: 40px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/fans/components/info/CategoryChart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart-content\"},[_c('header',[_vm._v(\"头条粉丝\")]),_vm._v(\" \"),_c('div',{staticClass:\"chart\"},[_c('div',{ref:\"chart\",style:({height:_vm.height,width:_vm.width})}),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.fansAgePerc}},[_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"perc\",\"label\":\"粉丝占比\"}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35742de3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/fans/components/info/CategoryChart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35742de3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CategoryChart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CategoryChart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CategoryChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35742de3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CategoryChart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35742de3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/fans/components/info/CategoryChart.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"chart-content\">\n    <header>近七日阅读量</header>\n    <div class=\"chart\">\n      <div ref=\"chart\" :style=\"{height:height,width:width}\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport echarts from 'echarts'\nrequire('echarts/theme/macarons') // echarts theme\n\nexport default {\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    width: {\n      type: String,\n      default: '100%'\n    },\n    height: {\n      type: String,\n      default: '350px'\n    },\n    autoResize: {\n      type: Boolean,\n      default: true\n    },\n    chartData: {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      tableData: [{\n        date: '2016-05-02',\n        name: '王小虎'\n      }, {\n        date: '2016-05-04',\n        name: '王小虎'\n      }, {\n        date: '2016-05-01',\n        name: '王小虎'\n      }, {\n        date: '2016-05-03',\n        name: '王小虎'\n      }]\n    }\n  },\n  watch: {\n    chartData: {\n      deep: true,\n      handler (val) {\n        this.setOptions(val)\n      }\n    }\n  },\n  mounted () {\n    this.initChart()\n    // 监听侧边栏的变化\n    this.sidebarElm = document.getElementsByClassName('sidebar-container')[0]\n    this.sidebarElm && this.sidebarElm.addEventListener('transitionend', this.sidebarResizeHandler)\n  },\n  beforeDestroy () {\n    if (!this.chart) {\n      return\n    }\n    if (this.autoResize) {\n      window.removeEventListener('resize', this.__resizeHandler)\n    }\n\n    this.sidebarElm && this.sidebarElm.removeEventListener('transitionend', this.sidebarResizeHandler)\n\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    sidebarResizeHandler (e) {\n      if (e.propertyName === 'width') {\n        this.__resizeHandler()\n      }\n    },\n    setOptions (charData) {\n      this.chart.setOption({\n        color: ['#3398DB'],\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: charData.key,\n            axisTick: {\n              alignWithLabel: true\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value'\n          }\n        ],\n        series: [\n          {\n            name: '直接访问',\n            type: 'bar',\n            barWidth: '30%',\n            color: '#69b4ff',\n            data: charData.value\n          }\n        ]\n      })\n    },\n    initChart () {\n      this.chart = echarts.init(this.$refs.chart, 'macarons')\n      this.setOptions(this.chartData)\n    }\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  .chart-content {\n    font-size: 14px;\n    header {\n      margin: 20px 0;\n    }\n    .chart {\n      border: 1px solid #e8e8e8;\n      padding-bottom: 30px;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/fans/components/info/CategoryChartBig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart-content\"},[_c('header',[_vm._v(\"近七日阅读量\")]),_vm._v(\" \"),_c('div',{staticClass:\"chart\"},[_c('div',{ref:\"chart\",style:({height:_vm.height,width:_vm.width})})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14785383\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/fans/components/info/CategoryChartBig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14785383\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CategoryChartBig.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CategoryChartBig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CategoryChartBig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14785383\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CategoryChartBig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14785383\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/fans/components/info/CategoryChartBig.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"fans-container\">\n    <header>粉丝列表</header>\n    <div class=\"tabBar\">\n      <router-link to=\"/fans/index\">粉丝概况</router-link>\n      <router-link to=\"/fans/info\" class=\"active\">粉丝画像</router-link>\n      <router-link to=\"/fans/list\">粉丝列表</router-link>\n    </div>\n    <div class=\"tabView\">\n      <Progress name=\"粉丝性别分布\" :percentage=\"manPercent\" :legend=\"['男', '女']\"/>\n      <category-chart\n        :ageRangeKey=\"ageRangeKey\"\n        :ageRangeValue=\"ageRangeValue\"\n        :width=\"width\"\n        :height=\"height\"\n        :autoResize=\"autoResize\"\n        :fansAgePerc=\"fansAgePerc\"\n      />\n      <Progress name=\"粉丝终端分布\" :percentage=\"iosPercent\" :legend=\"['Android', 'IOS']\" />\n      <category-chart-big\n        :chartData=\"readData\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Progress from './components/info/Progress.vue'\nimport CategoryChart from './components/info/CategoryChart.vue'\nimport CategoryChartBig from './components/info/CategoryChartBig.vue'\nimport { getFollowersPortrait } from '@/api/fans'\n\nexport default {\n  name: 'ContentManage',\n  data () {\n    return {\n      gender: {\n        male: 0,\n        female: 0\n      },\n      mobile: {\n        android: 0,\n        ios: 0\n      },\n      ageRangeValue: [],\n      ageRangeKey: [],\n      width: '75%',\n      height: '350px',\n      autoResize: true,\n      fansAgePerc: [],\n      readData: {\n        key: [],\n        value: []\n      }\n    }\n  },\n  components: {\n    Progress,\n    CategoryChart,\n    CategoryChartBig\n  },\n  created () {\n    this.getFansPortrait()\n  },\n  computed: {\n    manPercent () {\n      if ((this.gender.male + this.gender.female) > 0) {\n        return Math.round(parseFloat(this.gender.male / (this.gender.male + this.gender.female)) * 100)\n      }\n      // 目前没有粉丝数据 所以 男粉丝+女粉丝是0  所以 模拟一下数据50\n      return 50\n    },\n    iosPercent () {\n      if ((this.mobile.android + this.mobile.ios) > 0) {\n        return Math.round(parseFloat(this.mobile.android / (this.mobile.android + this.mobile.ios)) * 100)\n      }\n      return 50\n    }\n  },\n  methods: {\n    // 获取粉丝性别分布\n    async  getFansPortrait () {\n      const result = await getFollowersPortrait()\n      if (result.code == 0) {\n        const portraits = result.data\n        const ageItems = []\n        const readItems = []\n        let totalFans = 0\n        portraits.forEach((item) => {\n          var key = item.name.split(':')[1]\n          var value = Number(item.value)\n          // 提取性别\n          if (item.name.startsWith('sex')) {\n            this.gender[key] = value\n          }\n          // 提取手机\n          if (item.name.startsWith('mobile')) {\n            this.mobile[key] = value\n          }\n          // 年龄分布\n          if (item.name.startsWith('age')) {\n            ageItems.push(item)\n            totalFans += value\n          }\n          // 阅读统计\n          if (item.name.startsWith('read')) {\n            readItems.push(item)\n          }\n        })\n        this.setAges(ageItems, totalFans)\n        this.statisticRead(readItems)\n      } else {\n        this.$message({ type: 'error', message: result.error_message })\n      }\n    },\n    setAges (ageItems, total) {\n      // 排序年龄项\n      ageItems.sort((a, b) => {\n        if (a.name > b.name) { return 1 } else if (a.name < b.name) { return -1 } else { return 0 }\n      })\n      ageItems.forEach((item) => {\n        var key = item.name.split(':')[1]\n        var value = Number(item.value)\n        this.ageRangeKey.push(`${key}岁`)\n        this.ageRangeValue.push(Number(value))\n        const perc = Math.round(parseFloat((value / total) * 100))\n        this.fansAgePerc.push({ age: key, perc: `${perc}%` })\n      })\n    },\n    statisticRead (readItems) {\n      readItems.sort((a, b) => {\n        if (a.name > b.name) { return 1 } else if (a.name < b.name) { return -1 } else { return 0 }\n      })\n      readItems.forEach((item) => {\n        var key = item.name.split(':')[1]\n        var value = Number(item.value)\n        this.readData.key.push(key)\n        this.readData.value.push(value)\n      })\n    }\n  }\n\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.fans-container {\n  background-color: #ffffff;\n  text-align: left;\n  border: 1px solid #e7e7e9;\n  header {\n    color: #323745;\n    font-size: 14px;\n    height: 55px;\n    line-height: 55px;\n    padding: 0 15px;\n    background-color: #fbfbfb;\n    border-bottom: 1px solid #e8e8e8;\n  }\n  .tabBar {\n    font-size: 14px;\n    padding: 0 15px;\n    height: 55px;\n    line-height: 55px;\n    border-bottom: 1px dashed #cccccc;\n    a {\n      margin-right: 35px;\n      color: #323745;\n      &.active {\n        color: #3296fa;\n      }\n    }\n  }\n  .tabView {\n    padding: 0 30px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/fans/info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fans-container\"},[_c('header',[_vm._v(\"粉丝列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"tabBar\"},[_c('router-link',{attrs:{\"to\":\"/fans/index\"}},[_vm._v(\"粉丝概况\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"active\",attrs:{\"to\":\"/fans/info\"}},[_vm._v(\"粉丝画像\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/fans/list\"}},[_vm._v(\"粉丝列表\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tabView\"},[_c('Progress',{attrs:{\"name\":\"粉丝性别分布\",\"percentage\":_vm.manPercent,\"legend\":['男', '女']}}),_vm._v(\" \"),_c('category-chart',{attrs:{\"ageRangeKey\":_vm.ageRangeKey,\"ageRangeValue\":_vm.ageRangeValue,\"width\":_vm.width,\"height\":_vm.height,\"autoResize\":_vm.autoResize,\"fansAgePerc\":_vm.fansAgePerc}}),_vm._v(\" \"),_c('Progress',{attrs:{\"name\":\"粉丝终端分布\",\"percentage\":_vm.iosPercent,\"legend\":['Android', 'IOS']}}),_vm._v(\" \"),_c('category-chart-big',{attrs:{\"chartData\":_vm.readData}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30555ee1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/fans/info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30555ee1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./info.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30555ee1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30555ee1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/fans/info.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}